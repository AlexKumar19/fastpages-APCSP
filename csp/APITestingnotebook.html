<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">API Testing!</h1><p class="page-description">Using an API to important data for our Scrum Project</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-03-05T00:00:00-06:00" itemprop="datePublished">
        Mar 5, 2023
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/fastpages-APCSP/categories/#csp">csp</a>
        &nbsp;
      
        <a class="category-tags-link" href="/fastpages-APCSP/categories/#jupyter">jupyter</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-justify-center">
          <div class="px-2">

    <a href="https://github.com/AlexKumar19/fastpages-APCSP/tree/master/_notebooks/2022-10-7-APITesting.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/fastpages-APCSP/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/AlexKumar19/fastpages-APCSP/master?filepath=_notebooks%2F2022-10-7-APITesting.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/fastpages-APCSP/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/AlexKumar19/fastpages-APCSP/blob/master/_notebooks/2022-10-7-APITesting.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/fastpages-APCSP/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
          <div class="px-2">
  <a href="https://deepnote.com/launch?url=https%3A%2F%2Fgithub.com%2FAlexKumar19%2Ffastpages-APCSP%2Fblob%2Fmaster%2F_notebooks%2F2022-10-7-APITesting.ipynb" target="_blank">
      <img class="notebook-badge-image" src="/fastpages-APCSP/assets/badges/deepnote.svg" alt="Launch in Deepnote"/>
  </a>
</div>

        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#Using-an-API!">Using an API! </a></li>
<li class="toc-entry toc-h1"><a href="#Making-my-own-API!">Making my own API! </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-10-7-APITesting.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Using-an-API!">
<a class="anchor" href="#Using-an-API!" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using an API!<a class="anchor-link" href="#Using-an-API!"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here I use the code from RapidAPI to import the data from the Inspirational quote database. The RapidAPI key is specific for me and allows for me to access the API with spam protection. The RapidAPI host directs me the proper API that I want data from!</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">"https://pquotes.p.rapidapi.com/api/quote"</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
	<span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">,</span>
	<span class="s2">"X-RapidAPI-Key"</span><span class="p">:</span> <span class="s2">"f8c1edc71amsh2ceb94e75170cf3p1172ddjsn28d9990da6a6"</span><span class="p">,</span>
	<span class="s2">"X-RapidAPI-Host"</span><span class="p">:</span> <span class="s2">"pquotes.p.rapidapi.com"</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After Setting the parameters for the API, I now used the .request function</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="s2">"POST"</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s2">"topic"</span><span class="p">:</span> <span class="s2">"motivation"</span><span class="p">},</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span> <span class="c1">#This uses the .request function that sends a post request to the API to retrieve data</span>
<span class="n">quote</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">"quote"</span><span class="p">]</span> <span class="c1">#Sets the variable quote to the quote inside of the API</span>
<span class="n">author</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">"by"</span><span class="p">]</span> <span class="c1">#sets author to the author inside of the API</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Your random inspirational quote is, </span><span class="se">\"</span><span class="s2">"</span> <span class="o">+</span><span class="n">quote</span> <span class="o">+</span><span class="s2">"</span><span class="se">\"</span><span class="s2">"</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">,</span> <span class="s2">"--"</span><span class="p">,</span> <span class="n">author</span><span class="p">)</span> <span class="c1"># Outputs the quote using print()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Your random inspirational quote is, "The bad news is time flies. The good news is you’re the pilot."
 -- –Michael Altshuler
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now with this API, we can retrieve random inspiration quotes. This is very beneficial for our website because now we have access to 1000s of quotes and we can use this to provide inspiration to users. Our app is based on inspiration and these quotes would help push people to reach for their goals!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Making-my-own-API!">
<a class="anchor" href="#Making-my-own-API!" aria-hidden="true"><span class="octicon octicon-link"></span></a>Making my own API!<a class="anchor-link" href="#Making-my-own-API!"> </a>
</h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span> <span class="c1">#importing packages</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span><span class="p">,</span> <span class="n">request</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span> <span class="c1"># Creating the flask application</span>
<span class="c1"># Creating the array of quotes for the API to parse through</span>
<span class="n">quotes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"The sky is the limit - Kalani"</span><span class="p">,</span> <span class="s2">"The celling is the roof - Micheal Jordan"</span><span class="p">,</span> <span class="s2">"You miss 100%\ of the shots you don't take -Wayne Gretsky"</span><span class="p">,</span> <span class="s2">"hehe - Navan"</span><span class="p">,</span> <span class="s2">"JSON! - Mort"</span><span class="p">]</span>
<span class="c1"># Creates a function that uses random to generate a random number whithin the range of the quotes array</span>
<span class="k">def</span> <span class="nf">randomgen</span><span class="p">():</span>
    <span class="n">number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">quotes</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">number</span>
<span class="c1"># Creating the GET endpoint, so when we call it using /get, it will call to the randomgen function and return the quote from the array</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">'/get'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">'GET'</span><span class="p">])</span> 
<span class="k">def</span> <span class="nf">get</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">"connection"</span><span class="p">:</span> <span class="s2">"succesful"</span><span class="p">,</span> <span class="s2">"Your quote is"</span> <span class="p">:</span> <span class="n">quotes</span><span class="p">[</span><span class="n">randomgen</span><span class="p">()]}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="AlexKumar19/fastpages-APCSP"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/fastpages-APCSP/csp/APITestingnotebook" hidden></a>
</article>
